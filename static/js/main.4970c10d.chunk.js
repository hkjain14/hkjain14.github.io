(window.webpackJsonpIndianVaccineSlotFinder=window.webpackJsonpIndianVaccineSlotFinder||[]).push([[0],{38:function(e,t,a){e.exports=a(70)},68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),i=a.n(c),l=a(16),o=a(12),s=a(9),u=a(4),p=a(92),m=a(95),d=a(97),v=a(98),E=a(93),b=a(96),f=a(91),g=a(94),O=Object(u.a)((function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white},body:{fontSize:14}}}))(v.a),h=Object(u.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(f.a),w=Object(p.a)({table:{minWidth:650}});function j(){var e=w(),t=Object(n.useState)({}),a=Object(s.a)(t,2),c=a[0],i=a[1],u=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e.detail.numberOfOptionsFound,e.detail))}))},p=function(){i({})};return Object(n.useEffect)((function(){window.addEventListener("outputEvent",u,!1),window.addEventListener("clearOutputEvent",p,!1)}),[]),r.a.createElement(E.a,{component:g.a},r.a.createElement(m.a,{className:e.table,"aria-label":"simple table"},0!==Object.values(c).length&&r.a.createElement(b.a,null,r.a.createElement(h,null,r.a.createElement(O,{align:"center"},"Date"),r.a.createElement(O,{align:"center"},"Center"),r.a.createElement(O,{align:"center"},"Pin code"),r.a.createElement(O,{align:"center"},"District"),"1"===Object.values(c)[0].dose&&r.a.createElement(O,{align:"center"},"Dose 1 slots"),"2"===Object.values(c)[0].dose&&r.a.createElement(O,{align:"center"},"Dose 2 slots"),r.a.createElement(O,{align:"center"},"Vaccine"),r.a.createElement(O,{align:"center"},"Cost"))),r.a.createElement(d.a,null,Object.values(c).map((function(e){return r.a.createElement(h,{key:e.numberOfOptionsFound},r.a.createElement(O,{align:"center"},e.date),r.a.createElement(O,{align:"center"},e.centerName),r.a.createElement(O,{align:"center"},e.pin),r.a.createElement(O,{align:"center"},e.district),"1"===e.dose&&r.a.createElement(O,{align:"center"},e.dose1Cap),"2"===e.dose&&r.a.createElement(O,{align:"center"},e.dose2Cap),r.a.createElement(O,{align:"center"},e.vaccine),r.a.createElement(O,{align:"center"},e.cost))})))))}var y=a(10),C=a.n(y),x=a(15),N=a(34),k=a.n(N),S=a(35),_=a.n(S)()({}),P=["COVISHIELD","COVAXIN","SPUTNIK V"];function V(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){var e=(new Date).toLocaleString("en-GB",{timeZone:"Asia/Calcutta"}).split("/"),t=e[0],a=e[1],n=e[2].split(",")[0];return"".concat(t,"-").concat(a,"-").concat(n)}function I(e,t){var a=e>=18&&e<=44?18:45,n=t&&t.toUpperCase();(n&&!P.includes(n)||!n)&&(n="");var r=[""].concat(P);return{ageToCheck:a,matchVaccineArray:""!==n?[t.toUpperCase()]:r}}function U(e){return L.apply(this,arguments)}function L(){return(L=Object(x.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(t,"&date=").concat(F())]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(x.a)(C.a.mark((function e(t,a,n,r,c){var i,l,s,u,p,m,d,v,E,b;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,!(t<18||t>=140)){e.next=5;break}return l=new CustomEvent("errorEvent",{detail:{errorMessage:"Invalid age entered. Please enter a valid age."}}),window.dispatchEvent(l),e.abrupt("return",!0);case 5:return s=!1,e.prev=6,u=I(t,a),p=u.ageToCheck,m=u.matchVaccineArray,e.next=10,U(n);case 10:return d=e.sent,e.next=13,Promise.all(d.map(function(){var e=Object(x.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:a=e.sent,(n=a.centers)&&n.map((function(e){e.sessions&&e.sessions.map((function(t){var a="1"===c?t.available_capacity_dose1:t.available_capacity_dose2;if(t.min_age_limit===p&&0!==a&&m.includes(t.vaccine.toUpperCase())){var n,l=""!==t.vaccine?t.vaccine.toUpperCase():"Unknown",u=e.fee_type;if("Free"===u)n=u;else if("Paid"===u){var d=e.vaccine_fees&&e.vaccine_fees.find((function(e){return e.vaccine===t.vaccine}));n=d?"Rs. ".concat(d.fee):"Paid"}if(!r||"Free"===u){i++,s=!0;var v="1"===c?{dose1Cap:t.available_capacity_dose1}:{dose2Cap:t.available_capacity_dose2},E=new CustomEvent("outputEvent",{detail:Object(o.a)(Object(o.a)({numberOfOptionsFound:i,dose:c},v),{},{centerName:e.name,pin:e.pincode,district:e.district_name,date:t.date,vaccine:l,cost:n})});window.dispatchEvent(E)}}}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:return s?_.play("./media/notification.mp3",(function(e){})):(v=new CustomEvent("errorEvent",{detail:{errorMessage:"No available centers found in pincode/area for age specified for the next 7 days. Try choosing a nearby pincode/area."}}),window.dispatchEvent(v)),e.abrupt("return",s);case 17:return e.prev=17,e.t0=e.catch(6),E="Unknown error.",e.t0.response&&e.t0.response.data&&e.t0.response.data.error?E=e.t0.response.data.error:e.t0.response&&e.t0.response.data&&e.t0.response.data.message&&(E=e.t0.response.data.message),b=new CustomEvent("errorEvent",{detail:{errorMessage:"Error occurred: ".concat(E)}}),window.dispatchEvent(b),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}var M=function(e,t,a,n,r){return A.apply(this,arguments)};var T=function(){var e=Object(n.useState)(45),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),l=Object(s.a)(i,2),o=l[0],u=l[1],p=Object(n.useState)(),m=Object(s.a)(p,2),d=m[0],v=m[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),f=b[0],g=b[1],O=Object(n.useState)("1"),h=Object(s.a)(O,2),w=h[0],j=h[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=new CustomEvent("clearOutputEvent");window.dispatchEvent(t),M(a,d,o,f,w)}},r.a.createElement("label",{className:"input-text"},"Age:",r.a.createElement("input",{type:"text",value:a,onChange:function(e){c(e.target.value)},className:"input-age-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Pincode:",r.a.createElement("input",{type:"text",value:o,onChange:function(e){u(e.target.value)},className:"input-pin-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Vaccine Preference:",r.a.createElement("input",{type:"text",value:d,onChange:function(e){v(e.target.value)},className:"input-vaccine-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Free Vaccines Only:",r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:f,onChange:function(){g((function(e){return!e}))},className:"input-checkbox-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Dose :",r.a.createElement("select",{value:w,onChange:function(e){j(e.target.value)},className:"input-dose-value"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit",className:"input-submit "})))};var B=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],c=t[1],i=function(e){c(e.detail.errorMessage)},l=function(){c(void 0)};return Object(n.useEffect)((function(){window.addEventListener("errorEvent",i,!1),window.addEventListener("outputEvent",l,!1)}),[]),r.a.createElement("div",{className:"error-message"},a)};a(68);var G=function(){return r.a.createElement("div",{className:"main"},r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B,null),r.a.createElement(j,null))};a(69);i.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.4970c10d.chunk.js.map