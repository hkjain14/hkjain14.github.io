(window.webpackJsonpIndianVaccineSlotFinder=window.webpackJsonpIndianVaccineSlotFinder||[]).push([[0],{38:function(e,t,n){e.exports=n(70)},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),i=n.n(c),l=n(16),o=n(12),u=n(9),s=n(4),p=n(92),m=n(95),d=n(97),v=n(98),E=n(93),f=n(96),b=n(91),g=n(94),O=Object(s.a)((function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white},body:{fontSize:14}}}))(v.a),h=Object(s.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(b.a),w=Object(p.a)({table:{minWidth:650}});function j(){var e=w(),t=Object(a.useState)({}),n=Object(u.a)(t,2),c=n[0],i=n[1],s=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e.detail.numberOfOptionsFound,e.detail))}))},p=function(){i({})};return Object(a.useEffect)((function(){window.addEventListener("outputEvent",s,!1),window.addEventListener("clearOutputEvent",p,!1)}),[]),r.a.createElement(E.a,{component:g.a},r.a.createElement(m.a,{className:e.table,"aria-label":"simple table"},0!==Object.values(c).length&&r.a.createElement(f.a,null,r.a.createElement(h,null,r.a.createElement(O,{align:"center"},"Date"),r.a.createElement(O,{align:"center"},"Center"),r.a.createElement(O,{align:"center"},"Pin code"),r.a.createElement(O,{align:"center"},"District"),"1"===Object.values(c)[0].dose&&r.a.createElement(O,{align:"center"},"Dose 1 slots"),"2"===Object.values(c)[0].dose&&r.a.createElement(O,{align:"center"},"Dose 2 slots"),r.a.createElement(O,{align:"center"},"Vaccine"),r.a.createElement(O,{align:"center"},"Cost"))),r.a.createElement(d.a,null,Object.values(c).map((function(e){return r.a.createElement(h,{key:e.numberOfOptionsFound},r.a.createElement(O,{align:"center"},e.date),r.a.createElement(O,{align:"center"},e.centerName),r.a.createElement(O,{align:"center"},e.pin),r.a.createElement(O,{align:"center"},e.district),"1"===e.dose&&r.a.createElement(O,{align:"center"},e.dose1Cap),"2"===e.dose&&r.a.createElement(O,{align:"center"},e.dose2Cap),r.a.createElement(O,{align:"center"},e.vaccine),r.a.createElement(O,{align:"center"},e.cost))})))))}var y=n(10),C=n.n(y),x=n(15),N=n(34),k=n.n(N),S=n(35),_=n.n(S)()({}),P=["COVISHIELD","COVAXIN","SPUTNIK V"];function V(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){var e=(new Date).toLocaleString("en-GB",{timeZone:"Asia/Calcutta"}).split("/"),t=e[0],n=e[1],a=e[2].split(",")[0];return"".concat(t,"-").concat(n,"-").concat(a)}function I(e,t){var n=e>=18&&e<=44?18:45,a=t&&t.toUpperCase();(a&&!P.includes(a)||!a)&&(a="");var r=[""].concat(P);return{ageToCheck:n,matchVaccineArray:""!==a?[t.toUpperCase()]:r}}function L(e){return U.apply(this,arguments)}function U(){return(U=Object(x.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(t,"&date=").concat(F())]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(x.a)(C.a.mark((function e(t,n,a,r,c){var i,l,u,s,p,m,d,v,E;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,!(t<18||t>=140)){e.next=5;break}return l=new CustomEvent("errorEvent",{detail:{errorMessage:"Invalid age entered. Please enter a valid age."}}),window.dispatchEvent(l),e.abrupt("return",!0);case 5:return u=!1,e.prev=6,s=I(t,n),p=s.ageToCheck,m=s.matchVaccineArray,e.next=10,L(a);case 10:return d=e.sent,e.next=13,Promise.all(d.map(function(){var e=Object(x.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:n=e.sent,(a=n.centers)&&a.map((function(e){e.sessions&&e.sessions.map((function(t){if(t.min_age_limit===p&&0!==t.available_capacity&&m.includes(t.vaccine.toUpperCase())){var n,a=""!==t.vaccine?t.vaccine.toUpperCase():"Unknown",l=e.fee_type;if("Free"===l)n=l;else if("Paid"===l){var s=e.vaccine_fees&&e.vaccine_fees.find((function(e){return e.vaccine===t.vaccine}));n=s?"Rs. ".concat(s.fee):"Paid"}if(!r||"Free"===l){i++,u=!0;var d="1"===c?{dose1Cap:t.available_capacity_dose1}:{dose2Cap:t.available_capacity_dose2},v=new CustomEvent("outputEvent",{detail:Object(o.a)(Object(o.a)({numberOfOptionsFound:i,dose:c},d),{},{centerName:e.name,pin:e.pincode,district:e.district_name,date:t.date,vaccine:a,cost:n})});window.dispatchEvent(v)}}}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:return u?_.play("./media/notification.mp3",(function(e){})):(v=new CustomEvent("errorEvent",{detail:{errorMessage:"No available centers found in pincode/area for age specified for the next 7 days. Try choosing a nearby pincode/area."}}),window.dispatchEvent(v)),e.abrupt("return",u);case 17:return e.prev=17,e.t0=e.catch(6),E=new CustomEvent("errorEvent",{detail:{errorMessage:"Error occurred: ".concat(e.t0.response.data.error)}}),window.dispatchEvent(E),e.abrupt("return",u);case 22:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}var M=function(e,t,n,a,r){return A.apply(this,arguments)};var T=function(){var e=Object(a.useState)(45),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(),l=Object(u.a)(i,2),o=l[0],s=l[1],p=Object(a.useState)(),m=Object(u.a)(p,2),d=m[0],v=m[1],E=Object(a.useState)(!1),f=Object(u.a)(E,2),b=f[0],g=f[1],O=Object(a.useState)("1"),h=Object(u.a)(O,2),w=h[0],j=h[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=new CustomEvent("clearOutputEvent");window.dispatchEvent(t),M(n,d,o,b,w)}},r.a.createElement("label",{className:"input-text"},"Age:",r.a.createElement("input",{type:"text",value:n,onChange:function(e){c(e.target.value)},className:"input-age-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Pincode:",r.a.createElement("input",{type:"text",value:o,onChange:function(e){s(e.target.value)},className:"input-pin-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Vaccine Preference:",r.a.createElement("input",{type:"text",value:d,onChange:function(e){v(e.target.value)},className:"input-vaccine-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Free Vaccines Only:",r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:b,onChange:function(){g((function(e){return!e}))},className:"input-checkbox-value"})),r.a.createElement("br",null),r.a.createElement("label",{className:"input-text"},"Dose :",r.a.createElement("select",{value:w,onChange:function(e){j(e.target.value)},className:"input-dose-value"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit",className:"input-submit "})))};var B=function(){var e=Object(a.useState)(void 0),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(e){c(e.detail.errorMessage)},l=function(){c(void 0)};return Object(a.useEffect)((function(){window.addEventListener("errorEvent",i,!1),window.addEventListener("outputEvent",l,!1)}),[]),r.a.createElement("div",{className:"error-message"},n)};n(68);var G=function(){return r.a.createElement("div",{className:"main"},r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B,null),r.a.createElement(j,null))};n(69);i.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.26cd73f5.chunk.js.map